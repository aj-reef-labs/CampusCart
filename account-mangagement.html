<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Management</title>

    <link rel="stylesheet" href="styles/accountmanagement.css">
    
    <link rel="icon" href="images/favicon.png" type="image/png">

    <link rel="icon" href="/favicon.ico" sizes="16x16 32x32" type="image/x-icon">
</head>
<body>

    <img src="images/background-pic.jpg" alt="Background Image">

    <div class="header">
        <img class="logo" src="images/CampusCart - logo.png" alt="CampusCart Logo">
        <nav id="nav-board" class="nav-board">
            <ul>
                <li><a href="dashboard-first-version.html">Dashboard</a></li>
                <li><a href="list-first-version.html">List</a></li>
                <li><a href="settings-first-version.html">Settings</a></li>
                <li><a href="account-mangagement-first-version.html">Account Management</a></li>
            </ul>
        </nav>
    </div>
    
    <div class="content">
        <div class="account-form">
            <div class="headline">
                <h3>Account Management</h3>
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search users...">
            </div>
            
            <div class="user-list">
                <!-- User 1 -->
                <div class="user-edit">
                    <p>User 1</p>
                    <button class="edit-button" onclick="toggleDetails(this)">Edit</button>
                </div>
                
                <div class="user-details">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" value="User 1" class="name-input">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" value="user1@example.com">
                    </div>
                    <div class="form-group">
                        <label>Role:</label>
                        <input type="text" value="Student">
                    </div>
                    <div class="action-buttons">
                        <button class="save-button" onclick="saveUser(this)">Save</button>
                        <button class="cancel-button" onclick="hideDetails(this)">Cancel</button>
                    </div>
                </div>
        
                
                <div class="user-edit">
                    <p>User 2</p>
                    <button class="edit-button" onclick="toggleDetails(this)">Edit</button>
                </div>
                
                <div class="user-details">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" value="User 2" class="name-input">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" value="user2@example.com">
                    </div>
                    <div class="form-group">
                        <label>Role:</label>
                        <input type="text" value="Faculty">
                    </div>
                    <div class="action-buttons">
                        <button class="save-button" onclick="saveUser(this)">Save</button>
                        <button class="cancel-button" onclick="hideDetails(this)">Cancel</button>
                    </div>
                </div>
        
                
                <div class="user-edit">
                    <p>User 3</p>
                    <button class="edit-button" onclick="toggleDetails(this)">Edit</button>
                </div>
                
                <div class="user-details">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" value="User 3" class="name-input">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" value="user3@example.com">
                    </div>
                    <div class="form-group">
                        <label>Role:</label>
                        <input type="text" value="Administrator">
                    </div>
                    <div class="action-buttons">
                        <button class="save-button" onclick="saveUser(this)">Save</button>
                        <button class="cancel-button" onclick="hideDetails(this)">Cancel</button>
                    </div>
                </div>

                
                <div class="user-edit">
                    <p>User 4</p>
                    <button class="edit-button" onclick="toggleDetails(this)">Edit</button>
                </div>
                
                <div class="user-details">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" value="User 4" class="name-input">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" value="user4@example.com">
                    </div>
                    <div class="form-group">
                        <label>Role:</label>
                        <input type="text" value="Student">
                    </div>
                    <div class="action-buttons">
                        <button class="save-button" onclick="saveUser(this)">Save</button>
                        <button class="cancel-button" onclick="hideDetails(this)">Cancel</button>
                    </div>
                </div>
            </div>  
            
            <button class="add-user-button" onclick="addNewUser()">Add New User</button>
        </div>
    </div>

    <script>
        
        function toggleDetails(button) {
            var detailsPanel = button.parentElement.nextElementSibling;
            
    
            var allPanels = document.querySelectorAll('.user-details');
            for (var i = 0; i < allPanels.length; i++) {
                if (allPanels[i] !== detailsPanel) {
                    allPanels[i].style.display = 'none';
                }
            }
            
        
            if (detailsPanel.style.display === 'block') {
                detailsPanel.style.display = 'none';
            } else {
                detailsPanel.style.display = 'block';
            }
        }
        
    
        function hideDetails(button) {
            var detailsPanel = button.closest('.user-details');
            detailsPanel.style.display = 'none';
        }
        
        
        function saveUser(button) {
            var detailsPanel = button.closest('.user-details');
            var nameInput = detailsPanel.querySelector('.name-input');
            var userEdit = detailsPanel.previousElementSibling;
            
           
            userEdit.querySelector('p').textContent = nameInput.value;
            
           
            detailsPanel.style.display = 'none';
            
           
            alert('User updated successfully!');
        }
        
        
        function addNewUser() {
            var userList = document.querySelector('.user-list');
            
            var newUserEdit = document.createElement('div');
            newUserEdit.className = 'user-edit';
            newUserEdit.innerHTML = '<p>New User</p><button class="edit-button" onclick="toggleDetails(this)">Edit</button>';
            
            var newUserDetails = document.createElement('div');
            newUserDetails.className = 'user-details';
            newUserDetails.innerHTML = `
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" value="New User" class="name-input">
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" value="newuser@example.com">
                </div>
                <div class="form-group">
                    <label>Role:</label>
                    <input type="text" value="Student">
                </div>
                <div class="action-buttons">
                    <button class="save-button" onclick="saveUser(this)">Save</button>
                    <button class="cancel-button" onclick="hideDetails(this)">Cancel</button>
                </div>
            `;
            
        
            userList.appendChild(newUserEdit);
            userList.appendChild(newUserDetails);
            
            
            newUserDetails.style.display = 'block';
        }
        
      
        document.getElementById('searchInput').addEventListener('input', function() {
            var searchTerm = this.value.toLowerCase();
            var userEdits = document.querySelectorAll('.user-edit');
            
            for (var i = 0; i < userEdits.length; i++) {
                var userName = userEdits[i].querySelector('p').textContent.toLowerCase();
                var detailsPanel = userEdits[i].nextElementSibling;
                
                if (userName.includes(searchTerm)) {
                    userEdits[i].style.display = 'flex';
                } else {
                    userEdits[i].style.display = 'none';
                    detailsPanel.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>